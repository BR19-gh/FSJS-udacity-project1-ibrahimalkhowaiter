<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project-1 by Ibrahim Alkhowaiter</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" integrity="sha384-W8fXfP3gkOKtndU4JGtKDvXbO53Wy8SZCQHczT5FMiiqmQfUpWbYdTil/SxwZgAN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.min.js" integrity="sha384-skAcpIdS7UcVUC05LJ9Dxay8AXcDYfBJqt1CJ85S/CFujBsIzCIv+l9liuYLaMQ/" crossorigin="anonymous"></script>
</head>

<body>

    <form id="form" method="GET" class="row g-3 needs-validation" novalidate>
        <h3 style="text-align: center;">Ibrahim Alkhowaiter Image Size Changer ðŸš€</h3>
        <div class="col-md-4">
            <label for="validationCustomImage" class="form-label">Image Name (with <code>.jpg</code> extension. PS: You can find and add images in <code>images</code> file)</label>
            <div class="input-group has-validation">
              <span class="input-group-text" id="inputGroupPrepend">Image</span>
              <input type="text" class="form-control" id="validationCustomImage" aria-describedby="inputGroupPrepend" required>
              <div class="invalid-feedback">
                Please choose an Image from <code>images</code> file.
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <label for="validationCustomWidth" class="form-label">Width (e.g. 200)</label>
            <div class="input-group has-validation">
              <span class="input-group-text" id="inputGroupPrepend">Width</span>
              <input type="text" class="form-control" id="validationCustomWidth" aria-describedby="inputGroupPrepend" required>
              <div class="invalid-feedback">
                Please choose a width for the image.
              </div>
            </div>
          </div>
        <div class="col-md-4">
          <label for="validationCustomHeight" class="form-label">Height (e.g. 200)</label>
          <div class="input-group has-validation">
            <span class="input-group-text" id="inputGroupPrepend">Height</span>
            <input type="text" class="form-control" id="validationCustomHeight" aria-describedby="inputGroupPrepend" required>
            <div class="invalid-feedback">
                Please choose a height for the image.
            </div>
          </div>
        </div>
        <div style="text-align:center;" class="col-md-4">
          <button id="btn" class="btn btn-dark">Change Now!</button>
        </div>
      </form>

      <style>
          body{
              display:flex;
              justify-content:center;
              background-color: black;
          }
          #form{
              color: white;
              display:flex;
              justify-content: center;
              background-color:rgb(24, 24, 24);
              width: 57%;
              height:52%;
              position: absolute;
              transform: translateY(50%);
              border:#313131 solid 1px;
              border-radius: 50px;
            }
            input[type="text"]{
                background-color:#313131;
                color: white;
            }
            #inputGroupPrepend{
                background-color:#474747;
                color: white;
                width:77px;
            }
            input[type="text"]:focus{
                background-color:#707070;
                color: white;
            }
          .col-md-4{
              width: 90%;
              justify-content: center;
          }
          .has-validation{
              height: 20px;
          }
          </style>
    
    <script>
            // Example starter JavaScript for disabling form submissions if there are invalid fields
(function () {
  'use strict'

  // Fetch all the forms we want to apply custom Bootstrap validation styles to
  var forms = document.querySelectorAll(".needs-validation")

  // Loop over them and prevent submission
  Array.prototype.slice.call(forms)
    .forEach(function (form) {
      form.addEventListener("submit", function (event) {
        if (!form.checkValidity()) {
          event.preventDefault()
          event.stopPropagation()
        }

        form.classList.add("was-validated")
      }, false)
    })
    document.getElementById("form").addEventListener("submit",(event)=>{
        event.preventDefault()
        if (document.getElementById("validationCustomImage").value =="" || document.getElementById("validationCustomWidth").value =="" || document.getElementById("validationCustomHeight").value ==""){
            //nothing
        }
        else {
        window.location.assign(`/api/image?imageId=${document.getElementById("validationCustomImage").value}&width=${document.getElementById("validationCustomWidth").value}&height=${document.getElementById("validationCustomHeight").value}`);
        }
    })
})()
    </script>
</body>
</html>